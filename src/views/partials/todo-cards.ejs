<%#
    ToDoカードコンポーネント（モバイル表示用）
    引数:
    - todos: ToDoの配列
-%>
<div class="d-md-none">
    <% todos.forEach(todo => { %>
        <div class="card mb-3">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start mb-2">
                    <h5 class="card-title mb-0">
                        <%= todo.title %>
                    </h5>
                    <%- include('priority-badge', { priority: todo.priority }) %>
                </div>
                <% if (todo.content) { %>
                    <p class="card-text text-muted small">
                        <%= todo.content %>
                    </p>
                <% } %>
                <% if (todo.due_date) { %>
                    <p class="card-text small">
                        <i class="bi bi-calendar-event me-1"></i>
                        <%= todo.due_date %>
                    </p>
                <% } %>
                <div class="d-flex gap-2 mt-3">
                    <a href="/todos/<%= todo.id %>/edit" class="btn btn-sm btn-warning flex-grow-1">
                        <i class="bi bi-pencil me-1"></i>編集
                    </a>
                    <form action="/todos/<%= todo.id %>/delete" method="POST" class="flex-grow-1"
                        onsubmit="return confirm('削除してもよろしいですか？');">
                        <button type="submit" class="btn btn-sm btn-danger w-100">
                            <i class="bi bi-trash me-1"></i>削除
                        </button>
                    </form>
                </div>
            </div>
        </div>
    <% }); %>
</div>
